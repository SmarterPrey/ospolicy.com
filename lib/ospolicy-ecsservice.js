"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ec2 = require("aws-cdk-lib/aws-ec2");
const ecs = require("aws-cdk-lib/aws-ecs");
const ecs_patterns = require("aws-cdk-lib/aws-ecs-patterns");
const vpc = new ec2.Vpc(this, "ECSVpc", {
    maxAzs: 3
});
const cluster = new ecs.Cluster(this, "MyCluster", {
    vpc: vpc
});
// Create a load-balanced Fargate service and make it public
new ecs_patterns.ApplicationLoadBalancedFargateService(this, "GoatService", {
    cluster: cluster,
    cpu: 512,
    desiredCount: 6,
    taskImageOptions: { image: ecs.ContainerImage.fromRegistry("amazon/amazon-ecs-sample") },
    memoryLimitMiB: 2048,
    publicLoadBalancer: true // Default is true
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3Nwb2xpY3ktZWNzc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIm9zcG9saWN5LWVjc3NlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSwyQ0FBMkM7QUFDM0MsMkNBQTJDO0FBQzNDLDZEQUE2RDtBQUU3RCxNQUFNLEdBQUcsR0FBRyxJQUFJLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLFFBQVEsRUFBRTtJQUNwQyxNQUFNLEVBQUUsQ0FBQztDQUNaLENBQUMsQ0FBQztBQUVILE1BQU0sT0FBTyxHQUFHLElBQUksR0FBRyxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsV0FBVyxFQUFFO0lBQy9DLEdBQUcsRUFBRSxHQUFHO0NBQ1QsQ0FBQyxDQUFDO0FBRUgsNERBQTREO0FBQzVELElBQUksWUFBWSxDQUFDLHFDQUFxQyxDQUFDLElBQUksRUFBRSxhQUFhLEVBQUU7SUFDMUUsT0FBTyxFQUFFLE9BQU87SUFDaEIsR0FBRyxFQUFFLEdBQUc7SUFDUixZQUFZLEVBQUUsQ0FBQztJQUNmLGdCQUFnQixFQUFFLEVBQUUsS0FBSyxFQUFFLEdBQUcsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLDBCQUEwQixDQUFDLEVBQUU7SUFDeEYsY0FBYyxFQUFFLElBQUk7SUFDcEIsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLGtCQUFrQjtDQUM1QyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBlYzIgZnJvbSBcImF3cy1jZGstbGliL2F3cy1lYzJcIjtcbmltcG9ydCAqIGFzIGVjcyBmcm9tIFwiYXdzLWNkay1saWIvYXdzLWVjc1wiO1xuaW1wb3J0ICogYXMgZWNzX3BhdHRlcm5zIGZyb20gXCJhd3MtY2RrLWxpYi9hd3MtZWNzLXBhdHRlcm5zXCI7XG5cbmNvbnN0IHZwYyA9IG5ldyBlYzIuVnBjKHRoaXMsIFwiRUNTVnBjXCIsIHtcbiAgICBtYXhBenM6IDNcbn0pOyBcblxuY29uc3QgY2x1c3RlciA9IG5ldyBlY3MuQ2x1c3Rlcih0aGlzLCBcIk15Q2x1c3RlclwiLCB7XG4gICAgdnBjOiB2cGNcbiAgfSk7XG5cbiAgLy8gQ3JlYXRlIGEgbG9hZC1iYWxhbmNlZCBGYXJnYXRlIHNlcnZpY2UgYW5kIG1ha2UgaXQgcHVibGljXG4gIG5ldyBlY3NfcGF0dGVybnMuQXBwbGljYXRpb25Mb2FkQmFsYW5jZWRGYXJnYXRlU2VydmljZSh0aGlzLCBcIkdvYXRTZXJ2aWNlXCIsIHtcbiAgICBjbHVzdGVyOiBjbHVzdGVyLCAvLyBSZXF1aXJlZFxuICAgIGNwdTogNTEyLCAvLyBEZWZhdWx0IGlzIDI1NlxuICAgIGRlc2lyZWRDb3VudDogNiwgLy8gRGVmYXVsdCBpcyAxXG4gICAgdGFza0ltYWdlT3B0aW9uczogeyBpbWFnZTogZWNzLkNvbnRhaW5lckltYWdlLmZyb21SZWdpc3RyeShcImFtYXpvbi9hbWF6b24tZWNzLXNhbXBsZVwiKSB9LFxuICAgIG1lbW9yeUxpbWl0TWlCOiAyMDQ4LCAvLyBEZWZhdWx0IGlzIDUxMlxuICAgIHB1YmxpY0xvYWRCYWxhbmNlcjogdHJ1ZSAvLyBEZWZhdWx0IGlzIHRydWVcbiAgfSk7Il19